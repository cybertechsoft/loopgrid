{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "LoopGrid Replay",
  "type": "object",
  "required": ["decision_id"],
  "properties": {
    "replay_id": { "type": "string", "pattern": "^rep_[a-f0-9]{12}$" },
    "decision_id": { "type": "string", "pattern": "^dec_[a-f0-9]{12}$" },
    "created_at": { "type": "string", "format": "date-time" },
    "triggered_by": { "type": "string", "default": "sdk" },
    "overrides": { "type": "object" },
    "replay_output": { "type": "object" },
    "execution_status": { "type": "string", "enum": ["pending", "running", "completed", "failed"] },
    "execution_mode": { "type": "string", "enum": ["live", "simulated", "error"] },
    "output_changed": { "type": "boolean" },
    "diff_summary": { "type": "string" }
  }
}
